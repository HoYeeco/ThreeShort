import{x as P,r as Q,c as U,z as m,Q as e,I as t,aB as G,aA as J,ag as d,y as _,A as i,M as o,u as n,P as b,L as p,H as c,O as x,C as K}from"./vendor-0e940c15.js";import{u as W}from"./index-3d03330f.js";import{h as X,u as Y,d as N,s as Z,e as $,r as h,f as ee,j as te,k as le,m as ne,n as ae,o as oe,p as se,t as de,q as ue,v as re,w as ie,x as _e,y as fe,z as me}from"./element-a02f8ecb.js";import{_ as pe}from"./_plugin-vue_export-helper-c27b6911.js";const ce={class:"layout"},xe={class:"header-left"},ge={class:"header-right"},ve={class:"el-dropdown-link"},we={class:"username"},ke=P({__name:"index",setup(ye){const C=G(),A=J(),u=W(),f=Q(!1),R=U(()=>C.path),B=()=>{f.value=!f.value},E=()=>{var r;switch((r=u.userInfo)==null?void 0:r.role){case"ADMIN":return"管理员";case"MAINTAINER":return"维护员";case"RESIDENT":return"居民";default:return"未知"}},M=()=>{var r;switch((r=u.userInfo)==null?void 0:r.role){case"ADMIN":return"role-admin";case"MAINTAINER":return"role-maintainer";case"RESIDENT":return"role-resident";default:return"role-unknown"}},T=async r=>{switch(r){case"profile":A.push("/profile");break;case"logout":try{await me.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await u.logout()}catch{}break}};return(r,l)=>{const a=d("el-icon"),s=d("el-menu-item"),z=d("el-sub-menu"),D=d("el-menu"),S=d("el-aside"),V=d("el-button"),j=d("el-avatar"),g=d("el-dropdown-item"),q=d("el-dropdown-menu"),F=d("el-dropdown"),H=d("el-header"),L=d("router-view"),O=d("el-main"),v=d("el-container");return _(),m("div",ce,[e(v,null,{default:t(()=>[e(S,{width:"200px"},{default:t(()=>[l[17]||(l[17]=i("div",{class:"logo"},[i("h3",null,"诚信管理系统")],-1)),e(D,{"default-active":R.value,collapse:f.value,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:""},{default:t(()=>[e(s,{index:"/dashboard"},{title:t(()=>l[0]||(l[0]=[o("首页")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(X))]),_:1})]),_:1}),e(s,{index:"/profile"},{title:t(()=>l[1]||(l[1]=[o("个人信息")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(Y))]),_:1})]),_:1}),n(u).isResident?(_(),m(b,{key:0},[e(s,{index:"/credit-reports"},{title:t(()=>l[2]||(l[2]=[o("信用上报")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(N))]),_:1})]),_:1}),e(s,{index:"/products"},{title:t(()=>l[3]||(l[3]=[o("积分商城")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(Z))]),_:1})]),_:1}),e(s,{index:"/exchange-records"},{title:t(()=>l[4]||(l[4]=[o("兑换记录")])),default:t(()=>[e(a,null,{default:t(()=>[e(n($))]),_:1})]),_:1}),e(s,{index:"/agreements"},{title:t(()=>l[5]||(l[5]=[o("公约学习")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(h))]),_:1})]),_:1}),e(s,{index:"/feedback"},{title:t(()=>l[6]||(l[6]=[o("反馈建议")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(ee))]),_:1})]),_:1})],64)):p("",!0),n(u).isAdmin?(_(),m(b,{key:1},[e(s,{index:"/users"},{title:t(()=>l[7]||(l[7]=[o("用户管理")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(te))]),_:1})]),_:1}),e(s,{index:"/credit-profiles"},{title:t(()=>l[8]||(l[8]=[o("信用档案管理")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(le))]),_:1})]),_:1}),e(s,{index:"/admin/products"},{title:t(()=>l[9]||(l[9]=[o("商品配置管理")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(ne))]),_:1})]),_:1}),e(s,{index:"/admin/agreements"},{title:t(()=>l[10]||(l[10]=[o("公约管理")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(ae))]),_:1})]),_:1}),e(s,{index:"/admin/feedback"},{title:t(()=>l[11]||(l[11]=[o("反馈处理")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(oe))]),_:1})]),_:1}),e(s,{index:"/admin/reports"},{title:t(()=>l[12]||(l[12]=[o("上报审核")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(se))]),_:1})]),_:1})],64)):p("",!0),n(u).isMaintainer?(_(),c(z,{key:2,index:"maintenance"},{title:t(()=>[e(a,null,{default:t(()=>[e(n(de))]),_:1}),l[13]||(l[13]=i("span",null,"系统维护",-1))]),default:t(()=>[e(s,{index:"/maintenance/logs"},{title:t(()=>l[14]||(l[14]=[o("操作日志")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(N))]),_:1})]),_:1}),e(s,{index:"/maintenance/tasks"},{title:t(()=>l[15]||(l[15]=[o("定时任务")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(ue))]),_:1})]),_:1}),e(s,{index:"/maintenance/system"},{title:t(()=>l[16]||(l[16]=[o("系统监控")])),default:t(()=>[e(a,null,{default:t(()=>[e(n(re))]),_:1})]),_:1})]),_:1})):p("",!0)]),_:1},8,["default-active","collapse"])]),_:1,__:[17]}),e(v,null,{default:t(()=>[e(H,null,{default:t(()=>[i("div",xe,[e(V,{link:"",size:"small",onClick:B},{default:t(()=>[e(a,null,{default:t(()=>[f.value?(_(),c(n(ie),{key:0})):(_(),c(n(_e),{key:1}))]),_:1})]),_:1})]),i("div",ge,[e(F,{onCommand:T},{dropdown:t(()=>[e(q,null,{default:t(()=>[e(g,{command:"profile"},{default:t(()=>l[18]||(l[18]=[o("个人中心")])),_:1,__:[18]}),e(g,{divided:"",command:"logout"},{default:t(()=>l[19]||(l[19]=[o("退出登录")])),_:1,__:[19]})]),_:1})]),default:t(()=>{var w,k;return[i("span",ve,[e(j,{src:(w=n(u).userInfo)==null?void 0:w.avatar,size:32},{default:t(()=>{var y,I;return[o(x((I=(y=n(u).userInfo)==null?void 0:y.realName)==null?void 0:I.charAt(0)),1)]}),_:1},8,["src"]),i("span",we,x((k=n(u).userInfo)==null?void 0:k.realName),1),i("span",{class:K(["role-badge",M()])},x(E()),3),e(a,{class:"el-icon--right"},{default:t(()=>[e(n(fe))]),_:1})])]}),_:1})])]),_:1}),e(O,null,{default:t(()=>[e(L)]),_:1})]),_:1})]),_:1})])}}});const Ae=pe(ke,[["__scopeId","data-v-f395dce6"]]);export{Ae as default};
